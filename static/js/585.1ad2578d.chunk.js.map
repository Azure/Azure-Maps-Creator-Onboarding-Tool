{"version":3,"file":"static/js/585.1ad2578d.chunk.js","mappings":"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","sources":["common/constants.js","common/store/geometry.store.worker.js","../webpack/bootstrap","../webpack/runtime/chunk loaded","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/importScripts chunk loading","../webpack/runtime/startup chunk dependencies","../webpack/startup"],"sourcesContent":["export const PATHS = {\n  INDEX: '/',\n  PROCESSING: '/processing',\n  CREATE_GEOREFERENCE: '/create-georeference',\n  REVIEW_CREATE: '/review-create',\n  CONVERSION: '/review-create/conversion',\n  LAYERS: '/layers',\n  LEVELS: '/levels',\n  INVALID_PATH: '/*',\n};\n\nexport const ROUTE_NAME_BY_PATH = {\n  [PATHS.INDEX]: 'home',\n  [PATHS.PROCESSING]: 'processing',\n  [PATHS.CREATE_GEOREFERENCE]: 'prepare.drawing.package',\n  [PATHS.LAYERS]: 'prepare.drawing.package',\n  [PATHS.LEVELS]: 'prepare.drawing.package',\n  [PATHS.INVALID_PATH]: 'redirect',\n  [PATHS.REVIEW_CREATE]: 'prepare.drawing.package',\n  [PATHS.CONVERSION]: 'create.indoor.map',\n};\n\nexport const TRUNCATE_FRACTION_DIGITS = 8;\n\nexport const HTTP_STATUS_CODE = {\n  ACCEPTED: 202,\n  OK: 200,\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  FORBIDDEN: 403,\n  TOO_MANY_REQUESTS: 429,\n};\n\nexport const isStagingEnv = process.env.REACT_APP_STAGING_ENV === 'true';","import { combine, featureCollection, polygon, union } from '@turf/turf';\nimport { TRUNCATE_FRACTION_DIGITS } from 'common/constants';\n\n// almost everything in this file was copied from proj4 package - https://github.com/proj4js.\n// which was working too slow for the number of calculations we needed to perform\n// code here is just a copy-paste of proj4 with minor perf optimizations and unnecessary code cut off\n// translateCoordinateInMetersIntoDegrees function here performs ~10 times faster than original transform function.\n\n// constants copied from https://github.com/proj4js/proj4js/blob/master/lib/constants/values.js\nconst D2R = 0.01745329251994329577;\nconst R2D = 57.29577951308232088;\nconst es = 0.006694379990141316;\nconst SPI = 3.14159265359;\n// default k0 copied from https://github.com/proj4js/proj4js/blob/master/lib/Proj.js\nconst k0 = 1.0;\nconst TWO_PI = Math.PI * 2;\n\nself.onmessage = function({ data }) { // eslint-disable-line no-restricted-globals\n  // wrapped this in try catch to ignore errors thrown by union function\n  // truncating coordinates in unionFixed vastly fixed it, but it still fails sometimes\n  try { postMessage(onMessage(data)); } catch {}\n};\n\nexport function onMessage(data) {\n  const { dwgLayers, polygonLayers, anchorPoint } = data;\n  const filteredPolygonLayers = polygonLayers.filter((layer) => dwgLayers.includes(layer.name));\n\n  if (filteredPolygonLayers.length === 0) {\n    return null;\n  }\n\n  const geometriesByType = splitPolygons(filteredPolygonLayers, anchorPoint.coordinates);\n  const combinedPolygons = combinePolygons(geometriesByType.polygons);\n  return [unionMultiPolygons(geometriesByType.multiPolygons.concat(combinedPolygons)), anchorPoint];\n}\n\nfunction splitPolygons(polygons, [lon, lat]) {\n  return polygons.reduce((acc, val) => {\n    if (val.geometry.type === 'MultiPolygon') {\n      acc.multiPolygons.push(convertMultiPolygonInMetersToDegrees(val.geometry, [lon, lat]));\n    } else if (val.geometry.type === 'Polygon') {\n      acc.polygons.push(convertPolygonInMetersToDegrees(val.geometry, [lon, lat]));\n    }\n    return acc;\n  }, {\n    multiPolygons: [],\n    polygons: [],\n  });\n}\n\nfunction convertMultiPolygonInMetersToDegrees(polygon, [lon, lat]) {\n  return {\n    type: polygon.type,\n    coordinates: polygon.coordinates.map((coordinates) => (\n      coordinates.map((innerCoordinates) => (\n        innerCoordinates.map(([lonMeters, latMeters]) => translateCoordinateInMetersIntoDegrees(lon, lat, [lonMeters, latMeters]))\n      ))\n    )),\n  };\n}\n\nfunction convertPolygonInMetersToDegrees(polygon, [lon, lat]) {\n  return {\n    type: polygon.type,\n    coordinates: polygon.coordinates.map((coordinates) => (\n      coordinates.map(([lonMeters, latMeters]) => translateCoordinateInMetersIntoDegrees(lon, lat, [lonMeters, latMeters]))\n    )),\n  };\n}\n\nfunction unionMultiPolygons(multiPolygons) {\n  if (multiPolygons.length === 0) {\n    throw new Error('no polygons provided!');\n  }\n  const stack = [...multiPolygons];\n  if (stack.length === 1) {\n    return unionFixed(stack[0], stack[0]).geometry;\n  }\n  while (stack.length > 1) {\n    const firstPolygon = stack.shift();\n    try {\n      stack[0] = unionFixed(stack[0], firstPolygon).geometry;\n    } catch {}\n  }\n\n  return stack[0];\n}\n\n// without truncating it often fails due to bugs in polygon-clipping transitive dependency\nfunction unionFixed(f1, f2) {\n  const polygonsUnion = union(f1, f2);\n  polygonsUnion.geometry.coordinates = truncateRecursively(polygonsUnion.geometry.coordinates);\n  return polygonsUnion;\n}\n\nfunction combinePolygons(polygons) {\n  const collection = featureCollection(polygons.map(p => polygon(p.coordinates)));\n  return combine(collection).features.map((c) => c.geometry);\n}\n\n// this function is simplified version of https://github.com/proj4js/proj4js/blob/master/lib/transform.js\nexport function translateCoordinateInMetersIntoDegrees(lon, lat, meters) {\n  const lat0 = lat * D2R;\n  const long0 = lon * D2R;\n  const { Qn, Zb, cgb, utg } = getConsts(es, k0, lat0);\n\n  let point = {x: meters[0], y: meters[1]};\n  point = inverse(point, long0, Qn, Zb, cgb, utg); // Convert Cartesian to longlat\n\n  point = {\n    x: point.x * R2D,\n    y: point.y * R2D,\n  };\n\n  return [truncateNumber(point.x), truncateNumber(point.y)];\n}\n\nfunction truncateRecursively(coordinates) {\n  if (typeof coordinates === 'number') {\n    return truncateNumber(coordinates);\n  }\n  return coordinates.map(truncateRecursively);\n}\n\nexport function truncateNumber(num) {\n  return parseFloat(num.toFixed(TRUNCATE_FRACTION_DIGITS));\n}\n\n// https://github.com/proj4js/proj4js/blob/master/lib/projections/etmerc.js\nfunction getConsts(es, k0, lat0) {\n  const cgb = [];\n  const cbg = [];\n  const utg = [];\n  const gtu = [];\n\n  const f = es / (1 + Math.sqrt(1 - es));\n  const n = f / (2 - f);\n  let np = n;\n\n  cgb[0] = n * (2 + n * (-2 / 3 + n * (-2 + n * (116 / 45 + n * (26 / 45 + n * (-2854 / 675 ))))));\n  cbg[0] = n * (-2 + n * ( 2 / 3 + n * ( 4 / 3 + n * (-82 / 45 + n * (32 / 45 + n * (4642 / 4725))))));\n\n  np = np * n;\n  cgb[1] = np * (7 / 3 + n * (-8 / 5 + n * (-227 / 45 + n * (2704 / 315 + n * (2323 / 945)))));\n  cbg[1] = np * (5 / 3 + n * (-16 / 15 + n * ( -13 / 9 + n * (904 / 315 + n * (-1522 / 945)))));\n\n  np = np * n;\n  cgb[2] = np * (56 / 15 + n * (-136 / 35 + n * (-1262 / 105 + n * (73814 / 2835))));\n  cbg[2] = np * (-26 / 15 + n * (34 / 21 + n * (8 / 5 + n * (-12686 / 2835))));\n\n  np = np * n;\n  cgb[3] = np * (4279 / 630 + n * (-332 / 35 + n * (-399572 / 14175)));\n  cbg[3] = np * (1237 / 630 + n * (-12 / 5 + n * ( -24832 / 14175)));\n\n  np = np * n;\n  cgb[4] = np * (4174 / 315 + n * (-144838 / 6237));\n  cbg[4] = np * (-734 / 315 + n * (109598 / 31185));\n\n  np = np * n;\n  cgb[5] = np * (601676 / 22275);\n  cbg[5] = np * (444337 / 155925);\n\n  np = Math.pow(n, 2);\n  const Qn = k0 / (1 + n) * (1 + np * (1 / 4 + np * (1 / 64 + np / 256)));\n\n  utg[0] = n * (-0.5 + n * ( 2 / 3 + n * (-37 / 96 + n * ( 1 / 360 + n * (81 / 512 + n * (-96199 / 604800))))));\n  gtu[0] = n * (0.5 + n * (-2 / 3 + n * (5 / 16 + n * (41 / 180 + n * (-127 / 288 + n * (7891 / 37800))))));\n\n  utg[1] = np * (-1 / 48 + n * (-1 / 15 + n * (437 / 1440 + n * (-46 / 105 + n * (1118711 / 3870720)))));\n  gtu[1] = np * (13 / 48 + n * (-3 / 5 + n * (557 / 1440 + n * (281 / 630 + n * (-1983433 / 1935360)))));\n\n  np = np * n;\n  utg[2] = np * (-17 / 480 + n * (37 / 840 + n * (209 / 4480 + n * (-5569 / 90720 ))));\n  gtu[2] = np * (61 / 240 + n * (-103 / 140 + n * (15061 / 26880 + n * (167603 / 181440))));\n\n  np = np * n;\n  utg[3] = np * (-4397 / 161280 + n * (11 / 504 + n * (830251 / 7257600)));\n  gtu[3] = np * (49561 / 161280 + n * (-179 / 168 + n * (6601661 / 7257600)));\n\n  np = np * n;\n  utg[4] = np * (-4583 / 161280 + n * (108847 / 3991680));\n  gtu[4] = np * (34729 / 80640 + n * (-3418889 / 1995840));\n\n  np = np * n;\n  utg[5] = np * (-20648693 / 638668800);\n  gtu[5] = np * (212378941 / 319334400);\n\n  const Z = gatg(cbg, lat0);\n  const Zb = -Qn * (Z + clens(gtu, 2 * Z));\n\n  return {\n    Qn,\n    Zb,\n    cgb,\n    utg,\n  };\n}\n\n// https://github.com/proj4js/proj4js/blob/master/lib/common/gatg.js\nfunction gatg(pp, B) {\n  const cos_2B = 2 * Math.cos(2 * B);\n  let i = pp.length - 1;\n  let h1 = pp[i];\n  let h2 = 0;\n  let h;\n\n  while (--i >= 0) {\n    h = -h2 + cos_2B * h1 + pp[i];\n    h2 = h1;\n    h1 = h;\n  }\n\n  return (B + h * Math.sin(2 * B));\n}\n\n// https://github.com/proj4js/proj4js/blob/master/lib/projections/etmerc.js\nfunction inverse(p, long0, Qn, Zb, cgb, utg) {\n  const a = 6378137;\n  const x0 = 0;\n  const y0 = 0;\n\n  let Ce = (p.x - x0) * (1 / a);\n  let Cn = (p.y - y0) * (1 / a);\n\n  Cn = (Cn - Zb) / Qn;\n  Ce = Ce / Qn;\n\n  let lon;\n  let lat;\n\n  if (Math.abs(Ce) <= 2.623395162778) {\n    const tmp = clens_cmplx(utg, 2 * Cn, 2 * Ce);\n\n    Cn = Cn + tmp[0];\n    Ce = Ce + tmp[1];\n    Ce = Math.atan(sinh(Ce));\n\n    const sin_Cn = Math.sin(Cn);\n    const cos_Cn = Math.cos(Cn);\n    const sin_Ce = Math.sin(Ce);\n    const cos_Ce = Math.cos(Ce);\n\n    Cn = Math.atan2(sin_Cn * cos_Ce, hypot(sin_Ce, cos_Ce * cos_Cn));\n    Ce = Math.atan2(sin_Ce, cos_Ce * cos_Cn);\n\n    lon = adjust_lon(Ce + long0);\n    lat = gatg(cgb, Cn);\n  } else {\n    lon = Infinity;\n    lat = Infinity;\n  }\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\n// https://github.com/proj4js/proj4js/blob/master/lib/common/sign.js\nfunction sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// https://github.com/proj4js/proj4js/blob/master/lib/common/cosh.js\nfunction cosh(x) {\n  let r = Math.exp(x);\n  r = (r + 1 / r) / 2;\n  return r;\n}\n\n// https://github.com/proj4js/proj4js/blob/master/lib/common/clens.js\nfunction clens(pp, arg_r) {\n  const r = 2 * Math.cos(arg_r);\n  let i = pp.length - 1;\n  let hr1 = pp[i];\n  let hr2 = 0;\n  let hr;\n\n  while (--i >= 0) {\n    hr = -hr2 + r * hr1 + pp[i];\n    hr2 = hr1;\n    hr1 = hr;\n  }\n\n  return Math.sin(arg_r) * hr;\n}\n\n// https://github.com/proj4js/proj4js/blob/master/lib/common/adjust_lon.js\nfunction adjust_lon(x) {\n  return (Math.abs(x) <= SPI) ? x : (x - (sign(x) * TWO_PI));\n}\n\n// https://github.com/proj4js/proj4js/blob/master/lib/common/hypot.js\nfunction hypot(x, y) {\n  x = Math.abs(x);\n  y = Math.abs(y);\n  const a = Math.max(x, y);\n  const b = Math.min(x, y) / (a ? a : 1);\n\n  return a * Math.sqrt(1 + Math.pow(b, 2));\n}\n\n// https://github.com/proj4js/proj4js/blob/master/lib/common/sinh.js\nfunction sinh(x) {\n  let r = Math.exp(x);\n  r = (r - 1 / r) / 2;\n  return r;\n}\n\n// https://github.com/proj4js/proj4js/blob/master/lib/common/clens_cmplx.js\nfunction clens_cmplx(pp, arg_r, arg_i) {\n  const sin_arg_r = Math.sin(arg_r);\n  const cos_arg_r = Math.cos(arg_r);\n  const sinh_arg_i = sinh(arg_i);\n  const cosh_arg_i = cosh(arg_i);\n  let r = 2 * cos_arg_r * cosh_arg_i;\n  let i = -2 * sin_arg_r * sinh_arg_i;\n  let j = pp.length - 1;\n  let hr = pp[j];\n  let hi1 = 0;\n  let hr1 = 0;\n  let hi = 0;\n  let hr2;\n  let hi2;\n\n  while (--j >= 0) {\n    hr2 = hr1;\n    hi2 = hi1;\n    hr1 = hr;\n    hi1 = hi;\n    hr = -hr2 + r * hr1 - i * hi1 + pp[j];\n    hi = -hi2 + i * hr1 + r * hi1;\n  }\n\n  r = sin_arg_r * cosh_arg_i;\n  i = cos_arg_r * sinh_arg_i;\n\n  return [r * hr - i * hi, r * hi + i * hr];\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [322], () => (__webpack_require__(9585)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"513328f7\" + \".chunk.js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/azure-maps-creator-onboarding-tool/\";","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t585: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkmanifest_tool\"] = self[\"webpackChunkmanifest_tool\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(322).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["D2R","R2D","SPI","TWO_PI","Math","PI","unionMultiPolygons","multiPolygons","length","Error","stack","unionFixed","geometry","firstPolygon","shift","f1","f2","polygonsUnion","union","coordinates","truncateRecursively","translateCoordinateInMetersIntoDegrees","lon","lat","meters","lat0","long0","Qn","Zb","cgb","utg","es","k0","cbg","gtu","f","sqrt","n","np","pow","Z","gatg","pp","arg_r","r","cos","hr","i","hr1","hr2","sin","clens","getConsts","point","x","y","p","a","x0","y0","Ce","Cn","abs","tmp","arg_i","sin_arg_r","cos_arg_r","sinh_arg_i","sinh","cosh_arg_i","exp","cosh","hi2","j","hi1","hi","clens_cmplx","atan","sin_Cn","cos_Cn","sin_Ce","cos_Ce","atan2","max","b","min","hypot","sign","Infinity","inverse","truncateNumber","map","num","parseFloat","toFixed","B","cos_2B","h","h1","h2","self","onmessage","_ref","data","postMessage","dwgLayers","polygonLayers","anchorPoint","filteredPolygonLayers","filter","layer","includes","name","geometriesByType","polygons","_ref2","reduce","acc","val","type","push","polygon","_ref3","innerCoordinates","_ref4","lonMeters","latMeters","convertMultiPolygonInMetersToDegrees","_ref5","_ref6","convertPolygonInMetersToDegrees","splitPolygons","combinedPolygons","collection","featureCollection","combine","features","c","combinePolygons","concat","onMessage","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","__webpack_exports__","O","deferred","result","chunkIds","fn","priority","notFulfilled","fulfilled","Object","keys","every","key","splice","d","definition","o","defineProperty","enumerable","get","e","chunkId","Promise","all","promises","u","miniCssF","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","value","installedChunks","importScripts","chunkLoadingGlobal","parentChunkLoadingFunction","bind","moreModules","runtime","pop","next","then"],"sourceRoot":""}